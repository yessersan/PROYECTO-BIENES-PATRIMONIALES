<p-menubar [model]="menuItems" class="mb-3 shadow-2">
  <ng-template pTemplate="start">
    <div class="flex align-items-center">
      <i class="pi pi-home mr-2" style="font-size: 2rem;"></i>
      <span class="text-xl font-bold">Sistema de Gestión</span>
    </div>
  </ng-template>
  <ng-template pTemplate="end">
    <div class="flex align-items-center gap-3">
      <div class="flex flex-column align-items-end mr-2">
        <span class="font-semibold">{{ usuario?.nombre || 'Usuario' }}</span>
        <small class="text-color-secondary">{{ usuario?.rol || 'Sin rol' }}</small>
      </div>
      <p-avatar icon="pi pi-user" shape="circle" styleClass="mr-2" size="large"></p-avatar>
      <button pButton icon="pi pi-sign-out" label="Cerrar Sesión" class="p-button-danger p-button-sm" (click)="cerrarSesion()"></button>
    </div>
  </ng-template>
</p-menubar>

<div *ngIf="accesoDenegado" class="flex justify-content-center align-items-center" style="height: 60vh;">
  <div class="p-message p-message-error">
    <div class="p-message-wrapper">
      <span class="p-message-text">No tienes permisos para acceder a esta sección</span>
    </div>
  </div>
</div>

<div *ngIf="!accesoDenegado" class="flex" style="min-height: 80vh;">
  <div class="surface-card shadow-2 p-3" style="width: 280px; min-width: 220px;">
    <p-panelMenu [model]="panelMenuItems"></p-panelMenu>
  </div>
  <div class="main-content p-4 flex-1">
    <router-outlet></router-outlet>
  </div>
</div>